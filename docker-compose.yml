services:
  innergate:
    build:
      context: .
      dockerfile: Dockerfile
    read_only: true
    extra_hosts:
      - "host.docker.internal:host-gateway"    
    ports:
      - "${PORT:-8080}:8080"
    volumes:
      - ./config.json:/config.json:ro
    environment:
      - CONFIG_PATH=/config.json
      - PORT=8080
    restart: on-failure:10
